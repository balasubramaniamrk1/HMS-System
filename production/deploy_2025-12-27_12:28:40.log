========================================================
Deploying HMS to EC2: 44.222.93.74 (ec2-44-222-93-74.compute-1.amazonaws.com)
User: ubuntu -> bala
Key: ./hms.pem
Database: PostgreSQL (Docker)
SSL: Enabled via Certbot
Log File: deploy_2025-12-27_12:28:40.log
========================================================
--> Fixing local key permissions...
==> [1/5] Bootstrapping Server...
Pseudo-terminal will not be allocated because stdin is not a terminal.
Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.14.0-1015-aws x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sat Dec 27 06:58:43 UTC 2025

  System load:  0.11               Temperature:           -273.1 C
  Usage of /:   11.8% of 28.02GB   Processes:             129
  Memory usage: 34%                Users logged in:       0
  Swap usage:   0%                 IPv4 address for ens5: 172.31.1.105


Expanded Security Maintenance for Applications is not enabled.

9 updates can be applied immediately.
9 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

1 additional security update can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


--> Updating System...
Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble InRelease
Hit:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu noble-backports InRelease
Hit:4 http://security.ubuntu.com/ubuntu noble-security InRelease
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
Calculating upgrade...
The following packages have been kept back:
  linux-aws linux-headers-aws linux-image-aws
0 upgraded, 0 newly installed, 0 to remove and 3 not upgraded.
--> Installing System Dependencies...
Reading package lists...
Building dependency tree...
Reading state information...
python3-pip is already the newest version (24.0+dfsg-1ubuntu1.3).
python3-venv is already the newest version (3.12.3-0ubuntu2.1).
python3-dev is already the newest version (3.12.3-0ubuntu2.1).
nginx is already the newest version (1.24.0-2ubuntu7.5).
curl is already the newest version (8.5.0-2ubuntu10.6).
git is already the newest version (1:2.43.0-1ubuntu7.3).
acl is already the newest version (2.3.2-1build1.1).
certbot is already the newest version (2.9.0-1).
python3-certbot-nginx is already the newest version (2.9.0-1).
0 upgraded, 0 newly installed, 0 to remove and 3 not upgraded.
--> Installing Docker...
Docker already installed.
--> Configuring App User: bala...
User bala already exists.
--> Configuring Passwordless Sudo...
==> [2/5] Syncing files...
Transfer starting: 221 files
./
DEPLOYMENT_GUIDE.md
DEPLOYMENT_GUIDE_old.md
TROUBLESHOOTING_LOG.md
deploy.sh
deploy_bkp.sh
deploy_to_ec2.sh
env.example
gunicorn.service
gunicorn_config.py
hms.pem
manage.py
nginx.conf
renew_ssl.sh
requirements.txt
setup_ssl.sh
apps/
apps/__init__.py
apps/admissions/
apps/admissions/__init__.py
apps/admissions/admin.py
apps/admissions/apps.py
apps/admissions/models.py
apps/admissions/urls.py
apps/admissions/views.py
apps/admissions/migrations/
apps/admissions/migrations/0001_initial.py
apps/admissions/migrations/__init__.py
apps/appointments/
apps/appointments/__init__.py
apps/appointments/admin.py
apps/appointments/apps.py
apps/appointments/forms.py
apps/appointments/models.py
apps/appointments/tests.py
apps/appointments/urls.py
apps/appointments/utils.py
apps/appointments/views.py
apps/appointments/migrations/
apps/appointments/migrations/0001_initial.py
apps/appointments/migrations/0002_consultation.py
apps/appointments/migrations/0003_alter_consultation_diagnosis_and_more.py
apps/appointments/migrations/0004_consultation_next_visit_date_and_more.py
apps/appointments/migrations/0005_consultation_pharmacy_status.py
apps/appointments/migrations/__init__.py
apps/billing/
apps/billing/__init__.py
apps/billing/admin.py
apps/billing/apps.py
apps/billing/models.py
apps/billing/urls.py
apps/billing/views.py
apps/billing/migrations/
apps/billing/migrations/0001_initial.py
apps/billing/migrations/0002_invoice_admission.py
apps/billing/migrations/__init__.py
apps/blog/
apps/blog/__init__.py
apps/blog/admin.py
apps/blog/apps.py
apps/blog/models.py
apps/blog/tests.py
apps/blog/urls.py
apps/blog/views.py
apps/blog/migrations/
apps/blog/migrations/0001_initial.py
apps/blog/migrations/__init__.py
apps/core/
apps/core/__init__.py
apps/core/admin.py
apps/core/apps.py
apps/core/decorators.py
apps/core/models.py
apps/core/tests.py
apps/core/urls.py
apps/core/validators.py
apps/core/views.py
apps/core/migrations/
apps/core/migrations/0001_initial.py
apps/core/migrations/0002_careerapplication.py
apps/core/migrations/__init__.py
apps/core/templatetags/
apps/core/templatetags/__init__.py
apps/core/templatetags/auth_extras.py
apps/core/tests/
apps/core/tests/__init__.py
apps/core/tests/test_validators.py
apps/doctors/
apps/doctors/__init__.py
apps/doctors/admin.py
apps/doctors/apps.py
apps/doctors/models.py
apps/doctors/tests.py
apps/doctors/urls.py
apps/doctors/views.py
apps/doctors/migrations/
apps/doctors/migrations/0001_initial.py
apps/doctors/migrations/0002_doctor_user.py
apps/doctors/migrations/__init__.py
apps/hms_packages/
apps/inventory/
apps/inventory/__init__.py
apps/inventory/admin.py
apps/inventory/apps.py
apps/inventory/forms.py
apps/inventory/models.py
apps/inventory/urls.py
apps/inventory/views.py
apps/inventory/migrations/
apps/inventory/migrations/0001_initial.py
apps/inventory/migrations/0002_vendor_equipment_cost_equipment_qr_code_and_more.py
apps/inventory/migrations/0003_consumable_barcode_data_equipment_barcode_data.py
apps/inventory/migrations/__init__.py
apps/ipd_management/
apps/pharmacy/
apps/pharmacy/__init__.py
apps/pharmacy/admin.py
apps/pharmacy/apps.py
apps/pharmacy/models.py
apps/pharmacy/urls.py
apps/pharmacy/views.py
apps/pharmacy/migrations/
apps/pharmacy/migrations/0001_initial.py
apps/pharmacy/migrations/0002_sale_consultation.py
apps/pharmacy/migrations/0003_remove_sale_total_amount_sale_invoice_sale_status.py
apps/pharmacy/migrations/0004_alter_batch_vendor_medicine_schedule_type_and_more.py
apps/pharmacy/migrations/0005_purchaseorder_purchaseorderitem_stockentry_and_more.py
apps/pharmacy/migrations/__init__.py
apps/reputation/
apps/reputation/__init__.py
apps/reputation/admin.py
apps/reputation/apps.py
apps/reputation/models.py
apps/reputation/urls.py
apps/reputation/views.py
apps/reputation/migrations/
apps/reputation/migrations/0001_initial.py
apps/reputation/migrations/__init__.py
apps/services/
apps/staff_mgmt/
apps/staff_mgmt/__init__.py
apps/staff_mgmt/admin.py
apps/staff_mgmt/apps.py
apps/staff_mgmt/models.py
apps/staff_mgmt/urls.py
apps/staff_mgmt/views.py
apps/staff_mgmt/migrations/
apps/staff_mgmt/migrations/0001_initial.py
apps/staff_mgmt/migrations/0002_alter_attendance_options_and_more.py
apps/staff_mgmt/migrations/0003_shift_attendance_is_late_alter_attendance_status_and_more.py
apps/staff_mgmt/migrations/__init__.py
apps/wellness/
hms_project/
hms_project/__init__.py
hms_project/asgi.py
hms_project/jazzmin_settings.py
hms_project/settings.py
hms_project/urls.py
hms_project/wsgi.py
templates/
templates/base.html
templates/admissions/
templates/admissions/admit_form.html
templates/admissions/dashboard.html
templates/admissions/discharge_confirm.html
templates/appointments/
templates/appointments/appointment_form.html
templates/appointments/consultation_detail.html
templates/appointments/consultation_form.html
templates/appointments/doctor_console.html
templates/appointments/reports.html
templates/appointments/staff_dashboard.html
templates/billing/
templates/billing/dashboard.html
templates/billing/invoice_detail.html
templates/blog/
templates/blog/post_detail.html
templates/blog/post_list.html
templates/core/
templates/core/about.html
templates/core/careers.html
templates/core/contact.html
templates/core/home.html
templates/core/insurance.html
templates/core/international.html
templates/core/packages.html
templates/doctors/
templates/doctors/department_detail.html
templates/doctors/department_list.html
templates/doctors/doctor_detail.html
templates/doctors/doctor_list.html
templates/inventory/
templates/inventory/amc_list.html
templates/inventory/consumable_list.html
templates/inventory/dashboard.html
templates/inventory/form.html
templates/inventory/list.html
templates/inventory/log_list.html
templates/inventory/vendor_list.html
templates/inventory/view_qr.html
templates/pharmacy/
templates/pharmacy/dashboard.html
templates/pharmacy/pos.html
templates/pharmacy/purchase_order_form.html
templates/pharmacy/purchase_order_list.html
templates/pharmacy/report_expiry.html
templates/pharmacy/report_sales.html
templates/pharmacy/report_stock.html
templates/pharmacy/reports_dashboard.html
templates/pharmacy/stock_entry_form.html
templates/pharmacy/stock_list.html
templates/registration/
templates/registration/login.html
templates/registration/password_reset_complete.html
templates/registration/password_reset_confirm.html
templates/registration/password_reset_done.html
templates/registration/password_reset_form.html
templates/reputation/
templates/reputation/review_list.html
templates/staff_mgmt/
templates/staff_mgmt/dashboard.html

sent 148198 bytes  received 4226 bytes  111331 bytes/sec
total size is 420049  speedup is 2.76
Pseudo-terminal will not be allocated because stdin is not a terminal.
Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.14.0-1015-aws x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sat Dec 27 06:58:43 UTC 2025

  System load:  0.11               Temperature:           -273.1 C
  Usage of /:   11.8% of 28.02GB   Processes:             129
  Memory usage: 34%                Users logged in:       0
  Swap usage:   0%                 IPv4 address for ens5: 172.31.1.105


Expanded Security Maintenance for Applications is not enabled.

9 updates can be applied immediately.
9 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

1 additional security update can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


--> Moving files to /home/bala/hms_project...
==> [3/5] Configuring Remote Application...
Pseudo-terminal will not be allocated because stdin is not a terminal.
Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.14.0-1015-aws x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sat Dec 27 06:58:43 UTC 2025

  System load:  0.11               Temperature:           -273.1 C
  Usage of /:   11.8% of 28.02GB   Processes:             129
  Memory usage: 34%                Users logged in:       0
  Swap usage:   0%                 IPv4 address for ens5: 172.31.1.105


Expanded Security Maintenance for Applications is not enabled.

9 updates can be applied immediately.
9 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

1 additional security update can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


--> Setting up Dockerized PostgreSQL...
DB Container is running.
--> Setting up Python Virtual Environment...
--> Installing Python Requirements...
Requirement already satisfied: pip in ./hms_project/HMS/venv/lib/python3.12/site-packages (25.3)
Collecting asgiref==3.11.0 (from -r /home/bala/hms_project/requirements.txt (line 1))
  Downloading asgiref-3.11.0-py3-none-any.whl.metadata (9.3 kB)
Collecting Django==5.2.9 (from -r /home/bala/hms_project/requirements.txt (line 2))
  Downloading django-5.2.9-py3-none-any.whl.metadata (4.1 kB)
Collecting django-jazzmin==3.0.1 (from -r /home/bala/hms_project/requirements.txt (line 3))
  Downloading django_jazzmin-3.0.1-py3-none-any.whl.metadata (6.2 kB)
Collecting pillow==12.0.0 (from -r /home/bala/hms_project/requirements.txt (line 4))
  Downloading pillow-12.0.0-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl.metadata (8.8 kB)
Collecting psycopg2-binary==2.9.11 (from -r /home/bala/hms_project/requirements.txt (line 5))
  Downloading psycopg2_binary-2.9.11-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (4.9 kB)
Collecting python-dotenv==1.2.1 (from -r /home/bala/hms_project/requirements.txt (line 6))
  Downloading python_dotenv-1.2.1-py3-none-any.whl.metadata (25 kB)
Collecting sqlparse==0.5.4 (from -r /home/bala/hms_project/requirements.txt (line 7))
  Downloading sqlparse-0.5.4-py3-none-any.whl.metadata (4.7 kB)
Collecting typing_extensions==4.15.0 (from -r /home/bala/hms_project/requirements.txt (line 8))
  Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Collecting gunicorn==21.2.0 (from -r /home/bala/hms_project/requirements.txt (line 9))
  Downloading gunicorn-21.2.0-py3-none-any.whl.metadata (4.1 kB)
Collecting packaging (from gunicorn==21.2.0->-r /home/bala/hms_project/requirements.txt (line 9))
  Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
Downloading asgiref-3.11.0-py3-none-any.whl (24 kB)
Downloading django-5.2.9-py3-none-any.whl (8.3 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.3/8.3 MB 132.6 MB/s  0:00:00
Downloading django_jazzmin-3.0.1-py3-none-any.whl (2.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 98.6 MB/s  0:00:00
Downloading pillow-12.0.0-cp312-cp312-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl (7.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.0/7.0 MB 160.3 MB/s  0:00:00
Downloading psycopg2_binary-2.9.11-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (4.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.2/4.2 MB 82.3 MB/s  0:00:00
Downloading python_dotenv-1.2.1-py3-none-any.whl (21 kB)
Downloading sqlparse-0.5.4-py3-none-any.whl (45 kB)
Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
Downloading gunicorn-21.2.0-py3-none-any.whl (80 kB)
Downloading packaging-25.0-py3-none-any.whl (66 kB)
Installing collected packages: typing_extensions, sqlparse, python-dotenv, psycopg2-binary, pillow, packaging, asgiref, gunicorn, Django, django-jazzmin

Successfully installed Django-5.2.9 asgiref-3.11.0 django-jazzmin-3.0.1 gunicorn-21.2.0 packaging-25.0 pillow-12.0.0 psycopg2-binary-2.9.11 python-dotenv-1.2.1 sqlparse-0.5.4 typing_extensions-4.15.0
--> Configuring .env...
--> Running Django Commands...
/home/bala/hms_project/HMS/venv/bin/python: can't open file '/home/bala/hms_project/HMS/manage.py': [Errno 2] No such file or directory
==> [4/5] Setting up SSL...
Pseudo-terminal will not be allocated because stdin is not a terminal.
Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.14.0-1015-aws x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sat Dec 27 06:58:43 UTC 2025

  System load:  0.11               Temperature:           -273.1 C
  Usage of /:   11.8% of 28.02GB   Processes:             129
  Memory usage: 34%                Users logged in:       0
  Swap usage:   0%                 IPv4 address for ens5: 172.31.1.105


Expanded Security Maintenance for Applications is not enabled.

9 updates can be applied immediately.
9 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

1 additional security update can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


--> Requesting Let's Encrypt Certificate...
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Account registered.
Requesting a certificate for ec2-44-222-93-74.compute-1.amazonaws.com
An unexpected error occurred:
Error creating new order :: Cannot issue for "ec2-44-222-93-74.compute-1.amazonaws.com": The ACME server refuses to issue a certificate for this domain name, because it is forbidden by policy
Ask for help or search for solutions at https://community.letsencrypt.org. See the logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for more details.
========================================================
Deployment Complete!
URL: https://ec2-44-222-93-74.compute-1.amazonaws.com
Log File: deploy_2025-12-27_12:28:40.log
========================================================
